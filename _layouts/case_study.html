---
layout: default
---

<article class="case-study" data-mode="{{ page.mode | default: 'poster' }}">
  <!-- Mode Toggle Controls - Temporarily disabled -->
  <!-- {% include case-study/mode-toggle.html %} -->

  <!-- Dynamic Hero Section -->
  <header class="case-study-header">
    <div class="container">
      {% if page.mode == 'proof' %}
        {% include case-study/proof-hero.html %}
      {% else %}
        {% include case-study/poster-hero.html %}
      {% endif %}
    </div>
  </header>

  {% if page.hero_image %}
  <div class="case-study-hero">
    <div class="container">
      <img src="{{ page.hero_image }}" alt="{{ page.title }}" class="hero-image">
    </div>
  </div>
  {% endif %}

  <!-- Main Content with Artifact Sidebar -->
  <div class="case-study-main">
    <div class="content-blocks" data-mode="{{ page.mode | default: 'poster' }}">
      <div class="primary-content">
        {{ content }}
      </div>
    </div>

    <!-- Artifact Sidebar -->
    {% if page.artifacts and page.artifacts.size > 0 %}
      {% include case-study/artifact-sidebar.html %}
    {% endif %}
  </div>

  <!-- KWLX Easter Egg Script -->
  {% if page.class contains 'kwlx-feature' %}
  <script src="{{ '/assets/js/kwlx-easter-egg.js' | relative_url }}"></script>
  {% endif %}

  <!-- Mode Switching Script - Temporarily disabled -->
  <!-- <script src="{{ '/assets/js/mode-toggle.js' | relative_url }}"></script> -->

  {% if page.results or page.technologies or page.team %}
  <footer class="case-study-footer">
    <div class="container">
      {% if page.results %}
        <div class="case-study-results">
          <h3>Results & Impact</h3>
          <ul class="results-list">
            {% for result in page.results %}
              <li class="result-item">{{ result }}</li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}
      
      <div class="case-study-details">
        {% if page.technologies %}
          <div class="case-study-technologies">
            <h4>Technologies</h4>
            <ul class="tech-list">
              {% for tech in page.technologies %}
                <li class="tech-item">{{ tech }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
        
        {% if page.team %}
          <div class="case-study-team">
            <h4>Team</h4>
            <ul class="team-list">
              {% for member in page.team %}
                <li class="team-member">{{ member }}</li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      </div>
      
      {% if page.related_case_studies %}
        <div class="related-case-studies">
          <h3>Related Case Studies</h3>
          <div class="case-studies-grid">
            {% for case_study_slug in page.related_case_studies %}
              {% assign case_study = site.case_studies | where: "slug", case_study_slug | first %}
              {% if case_study %}
                <div class="case-study-card">
                  <h4><a href="{{ case_study.url }}">{{ case_study.title }}</a></h4>
                  {% if case_study.client %}
                    <p class="card-client">{{ case_study.client }}</p>
                  {% endif %}
                  <p>{{ case_study.excerpt | strip_html | truncate: 100 }}</p>
                </div>
              {% endif %}
            {% endfor %}
          </div>
        </div>
      {% endif %}
    </div>
  </footer>
  {% endif %}
</article>
